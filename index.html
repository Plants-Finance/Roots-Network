<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
  <link rel="icon" href="favicon.png" type="image/x-icon" />
  <link rel="stylesheet" type="text/css" href="css/font-awesome.css">
  <title> Roots Network - Strengthen your connection to the infinite information on the internet </title>
  <style>

    /* RGB 
$color1: rgba(6, 7, 14, 1);
$color2: rgba(41, 82, 74, 1);
$color3: rgba(148, 161, 135, 1);
$color4: rgba(197, 175, 160, 1);
$color5: rgba(233, 188, 183, 1);

*/
    @font-face {
      font-family: font-awesome;
      src: url('fonts/fa-regular-400.ttf');
    }

    @font-face {
      font-family: font-awesome-solid;
      src: url('fonts/fa-solid-900.ttf');
    }

    body {
      font-family: Helvetica;
      padding: 0px;
      margin: 0;
    }

    h1.page-title {
      display: inline-block;
      font-size: 28px;
      position: absolute;
      top: 0px;

    }

    .page-title a {
      color: black;
      text-decoration: none;
    }

    small#tagline {
      position: absolute;
      top: 30px;
      margin-left: 210px;
      color: rgba(148, 161, 135, 1);
    }

    #searchbar {
      font-size: 20px;
      border: 1px solid #dddddd;
      border-radius: 1px;
      outline: none;
      transition: border .2s;
      box-shadow: inset 0 0 0 0px #EEEEEE;
      outline-color: transparent;
      height: 28px;
      padding: 2px 6px;
      color: #29524a;
      font-weight: light;
      width: 350px;
      border-radius: 2px;
      position: absolute;
      right: 48px;
      top: 10px;
    }

    input:focus {
      border: 2px solid #59ABE3;
      border-opacity: .5;
      appearance: none;
    }

    ul {
      margin-top: 0px;
      padding: 100px 32px 0 32px;
      border-top: 0px solid #dddddd;
    }

    ul li {
      list-style: none;
      height: 24px;
    }

    ul li a {
      color: #29524a;
      text-decoration: none;
      font-size: 20px;
      font-weight: light;

    }

    ul li:hover {
      background-color: #eeeeee;
    }

    ul li a:hover {
      color: #c5afa0;
      cursor: pointer;
    }

    .bookmark-item {
      height: 98px;
      border: 1px solid #dddddd;
      border-radius: 4px;
      margin: 8px;
      width: calc(31% - 14px);
      padding: 0px 8px 44px 16px;
      display: inline-block;
      float: left;
    }

    .bookmark-item p {
      font-size: 12px;
      color: black;
    }

    #submit-form {
      margin-left: 224px;
      position: absolute;
      top: -1px;
      width: 400px;
      height: 80px;
      border: 1px solid #dddddd;
      background-color: white;
    }

    #input-container {
      display: inline-block;
      width: 75%;
      height: 100%;
    }

    #submit-div {
      display: inline-block;
      /*background-color: #94a187;*/
      width: 25%;
      height: 26px;
      padding: 26px 0;
      float: right;
    }

    #submit-form input {
      width: 292px;
      height: 19px;
      outline: none;
      transition: border .2s;
      box-shadow: inset 0 0 0 0px #EEEEEE;
      outline-color: transparent;
    }

    button {
      border: none;
      height: 24px;
      background-color: #FFF;
      color: black;
      border: 1px solid #eee;
      border-radius: 2px;
      margin-left: 16px;
    }

    button:hover {
      background-color: #ddd;
      cursor: pointer;
    }

    button:focus {
      background-color: orange;
    }

    #config-bar button {
      margin-top: 4px;
    }

    #submit-button {
      display: table-cell;
      vertical-align: middle;
      margin-left: 20px;
    }

    .tag-button {
      background-color: #c5afa0;
      margin-left: 0px;
      margin-right: 4px;
      color: white;
      border: 0px;
    }

    .fa-minus-square {
      color: beige !important;
    }

    .tag-button:hover {
      background-color: orange;
    }

    .item-move, .link-move {
      /* applied to the element when moving */
      transition: transform .5s cubic-bezier(.55, 0, .1, 1);
    }

    .settings-icons {
      font-size: 12px !important;
      position: relative;
      top: 6px;
      display: inline;
      color: silver;
    }

    .favorite-icon {
      font-family: font-awesome;
      border-radius: 0 4px 0px 0;
      padding: 8px 2px 6px 2px;

    }

    .close-icon {
      font-family: font-awesome-solid;
      margin-left: calc(100% - 32px);
      top: 7px;
    }

    .favorite-icon-selected {
      color: orange;
      font-family: font-awesome-solid;
    }

    .settings-icons:hover {
      cursor: pointer;
      color: orange;
    }

    #results-count {
      color: #acaaaa;
      margin: 0px 8px 2px 0px;
      padding-top: 10px;
      display: inline-block;
    }

    ul li a.small-link {
      font-size: 14px;
    }

    .edit-input {
      display: inline-block;
      width: 280px;
    }

    .dl {
      font-family: font-awesome-solid;
      color: #acaaaa;
    }

    #navbar {
      border: 0px solid #acaaaa;
      height: 70px;
      width: calc(100% - 40px);
      padding: 0;
      margin-left: 40px;
      position: fixed;
      background-color: white;
      z-index: 999999;
      top: 0px;
    }

    #config-bar {
      border: 1px solid #ddd;
      height: 32px;
      padding-left: 40px;
      margin-top: 54px;
      position: fixed;
      background-color: white;
      width: calc(100% - 42px);
      z-index: 999999;
    }

    #config-bar #config-button {
      margin: 0px 0 0 16px;
    }

    button a {
      color: black;
      text-decoration: none;
    }

    div small a {
      font-size: 14px;
    }

    #new-tag {
      margin-left: 0px;
    }

  </style>
</head>

<body>

<div id="app">

  <div id="navbar">
    <h1 class="page-title"><a href=".">Roots Network</a></h1>
    <small id="tagline"> stay connected.</small>
    <input type="text" v-model='search' id="searchbar" name="search" value="">
  </div>

  <div id="config-bar">
    <p id="results-count">{{filteredBookmarks.length}} bookmarks</p>
    <button id="config-button" v-on:click="toggleConfig"><i class="fas dl fa-tools"></i> Config</button>
    <button id="new-bookmark-button" v-on:click="toggleShow()"><i class="fas dl fa-bookmark"></i> New Bookmark</button>
    <button id="config-button" v-if='configurable' v-on:click="toggleEdit"><i class="far dl fa-edit"></i> Edit Bookmarks
    </button>
    <button v-if="configurable" id="update-button" v-on:click="put()"><i class="dl fas fa-database"></i>
      Update Database
    </button>
    <!-- <button id="globaltagbutton" v-for="item in globaltaglist">{{item.name}}</button> -->
    
    <!--  <button v-if="configurable" id="json-button"><i class="fas dl fa-download"></i> <a href="https://roots-network-69742.firebaseio.com/chromes" target=_blank rel="noopener noreferrer">Export json</a></button> -->

    <div id="submit-form" v-if='show'>
      <div id="input-container">
        <input class="half-input" type="text" v-model="newlinkname" placeholder="name">
        <input class="half-input" type="text" v-model="newlinkurl" placeholder="url">
        <input type="text" v-model="newlinkdescription" placeholder="description">
      </div>
      <div id="submit-div">
        <button id='submit-button' v-on:click.prevent="addLink()">Submit</button>
      </div>
    </div>

  </div>

  <ul>
    <li class="bookmark-item" v-for="link in filteredBookmarks">
      <i class="fas fa-times close-icon settings-icons" v-on:click="removeBookmark(link)"></i>
      <i v-if="link.favorited" class="fas fa-star favorite-icon favorite-icon-selected settings-icons" v-on:click="favoriteBookmark(link)"></i>
      <i v-else class="far fa-star favorite-icon settings-icons" v-on:click="favoriteBookmark(link)"></i>

      <div v-if="editable">
        <small><a v-bind:href=link.hyperlink>{{link.text}}</a></small>
        <small>title:</small>
        <input class="edit-input" v-model="link.text">
        <br>
        <small>description:</small>
        <input class="edit-input" v-model="link.description">
        <br>
        <small>tag:</small>
        <input class="edit-input" style="width: 80px" v-model="link.newtag"> 
        <button id="new-tag" v-on:click="addTag(link)"><i class="far dl fa-plus-square"></i></button>
      </div>
      <a v-else v-bind:href=link.hyperlink target=_blank rel="noopener noreferrer">
        {{link.text}}</a>
      <p> {{link.description}} </p>
      <button v-for="tag in link.taglist" class="tag-button"> {{tag}}
        <i class="fas dl fa-minus-square" v-on:click="removeTag(link, tag)"></i></button>
    </li>
  </ul>
</div>


<script type="text/javascript">
    var app = new Vue({
        el: '#app',
        data: {
            show: false,
            editable: false,
            configurable: false,
            newlinkname: "",
            newlinkurl: "",
            newlinkdescription: "",
            globaltaglist: ['test'],
            search: '',
            bookmarks: [
                {
                    text: 'Material Design Dev Tutorials',
                    hyperlink: 'https://material.io/collections/developer-tutorials/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Awesome Vue.js Resources',
                    hyperlink: 'https://github.com/vuejs/awesome-vue#youtube-channels',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'HackerNews',
                    hyperlink: 'https://news.ycombinator.com/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Zenhabits',
                    hyperlink: 'https://zenhabits.net',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'How to Get Rich by Naval Ravikant',
                    hyperlink: 'https://twitter.com/naval/status/1002103360646823936',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'How to Be Successful by Sam Altman',
                    hyperlink: 'http://blog.samaltman.com/how-to-be-successful',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Design in Tech Report 2019',
                    hyperlink: 'https://designintech.report/2019/03/09/design-in-tech-report-2019/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: '1000 True Fans',
                    hyperlink: 'https://kk.org/thetechnium/1000-true-fans/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Typewolf Adobe Fonts',
                    hyperlink: 'https://www.typewolf.com/adobe-fonts',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Morning Rituals by Tim Ferriss ',
                    hyperlink: 'https://fhww.files.wordpress.com/2018/09/tim-ferriss-5-morning-rituals.pdf',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'CSSTricks ',
                    hyperlink: 'https://css-tricks.com',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Google 2004 Founder Letter',
                    hyperlink: 'https://abc.xyz/investor founders-letters/2004-ipo-letter/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Pentagram',
                    hyperlink: 'http://www.pentagram.com/work/#/all/all/newest/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Sagmeister & Walsh',
                    hyperlink: 'https://sagmeisterwalsh.com/work/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'Harvard Meta Lab',
                    hyperlink: 'https://metalabharvard.github.io/',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'MIT Media Lab',
                    hyperlink: 'https://www.media.mit.edu/research/?filter=projects',
                    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                },
                {
                    text: 'JSON Placeholder API',
                    hyperlink: 'https://jsonplaceholder.typicode.com/',
                    description: 'A fake online REST API tool for prototyping / testing simple http requests',
                    taglist: ['testing', 'tag2'],
                    newtag: '',
                    favorited: false,
                    lastlocation: -1
                                  
                }

        ]},
        methods: {
            addLink: function () {
                let newbookmark = {
                    text: this.newlinkname,
                    hyperlink: this.newlinkurl,
                    description: this.newlinkdescription,
                    taglist: ['default', 'tag2string'],
                    favorited: false,
                    lastlocation: -1
                };
                this.bookmarks.splice(this.favoritedBookmarks().length, 0, newbookmark)
                this.newlinkname = "";
                this.newlinkurl = "";
                this.newlinkdescription = "";

                this.toggleShow()

                // post to firebase
                this.$http.post('https://roots-network-69742.firebaseio.com/chromes.json', newbookmark).then(function (data) {
                  console.log(data)
                })
            },
            toggleShow: function () {
                app.show = !app.show
            },
            toggleEdit: function () {
                app.editable = !app.editable
            },
            toggleConfig: function () {
                app.configurable = !app.configurable
            },
            favoriteBookmark: function (link, event) {
                if (link.favorited) {
                    this.unfavorite(link);
                } else {
                    let linkLocation = app.bookmarks.indexOf(link)
                    link.lastlocation = linkLocation;
                    app.bookmarks.splice(linkLocation, 1)
                    app.bookmarks.unshift(link);
                    link.favorited = !link.favorited;
                    this.$http.put('https://roots-network-69742.firebaseio.com/chromes.json', this.bookmarks).then(function (data) {
                        console.log('PUT FAV')
                    })

                }
            },
            put: function (link) {
                this.$http.put('https://roots-network-69742.firebaseio.com/chromes.json', this.bookmarks).then(function (data) {
                    alert('Database Updated Succesfully');
                })
            },
            unfavorite: function (link, event) {
                console.log('running unfavorite')
                let linkLocation = app.bookmarks.indexOf(link)
                app.bookmarks.splice(linkLocation, 1)
                app.bookmarks.splice(link.lastlocation, 0, link)
                link.favorited = !link.favorited;
                this.$http.put('https://roots-network-69742.firebaseio.com/chromes.json', this.bookmarks).then(function (data) {
                    console.log('PUT UNFAV')
                })
            },
            removeBookmark: function (link) {
                let linkLocation = app.bookmarks.indexOf(link)
                if (linkLocation !== -1 && confirm("Are you sure you want to delete this bookmark?")) {
                    app.bookmarks.splice(linkLocation, 1)
                    this.$http.delete('https://roots-network-69742.firebaseio.com/chromes/' + link.id + '/.json', link.id).then(function (data) {
                        console.log('https://roots-network-69742.firebaseio.com/chromes/' + link.id + '/.json');
                    })
                }
            },
             favoritedBookmarks: function () {
                return this.bookmarks.filter((bookmark) => {
                    return bookmark.favorited === true;
                });
            },
            genglobaltaglist: function() {
            },
            removeTag: function (link, tag) {
              for (i = 0; i < link.taglist.length; i++) {
                console.log('removetag', 'tag: ', tag, 'link.taglist[i]', link.taglist[i])
                console.log((tag === link.taglist[i]))
                if (tag === link.taglist[i]) {
                  link.taglist.splice(i, 1);
                }
              }
            },
            addTag: function (link, tag) {
             link.taglist.push(link.newtag.toLowerCase());
             link.newtag = "";
            }
        },

        created() {
            this.$http.get('https://roots-network-69742.firebaseio.com/chromes.json').then(function (data) {
                // this.bookmarks=data.body;
                return data.json()
            }).then(function (data) {
                let fireBookmarks = [];
                for (let key in data) {
                    if (data[key]) {
                        data[key].id = key;
                        fireBookmarks.push(data[key])
                    }
                    this.bookmarks = fireBookmarks;
                }
                // console.log(fireBookmarks)
                app.genglobaltaglist();
            })
        },
        computed: {
            filteredBookmarks: function () {
                return this.bookmarks.filter((bookmark) => {
                    return bookmark.text.toLowerCase().match(this.search.toLowerCase())
                });
            }
        }
    })
</script>
</body>


</html>
